<div class="example-card">
  <div class="example-header">
    <h3>Demo "app-stockchart-treemap"</h3>
    <p>
      The component receives a generated tree with sectors and tickers and automatically
      recalculates colors through <code>TreeMapColorScale</code> so gains and drops are easy to read.
    </p>
  </div>

  <div class="example-body">
    <stockchart-treemap
      class="treemap-canvas"
      [data]="data"
      [options]="treemapOptions"
      (tileHover)="onTileHover($event)"
      (tileClick)="onTileClick($event)"
      (mouseleave)="onTileLeave()"
    ></stockchart-treemap>

    <div class="example-sidebar" *ngIf="hovered || selected">
      <h4>Details</h4>
      <div *ngIf="hovered" class="metric">
        <span class="metric-label">Hover:</span>
        <span class="metric-value">{{ hovered?.name }} ({{ hovered?.change?.toFixed(2) }}%)</span>
      </div>
      <div *ngIf="selected" class="metric">
        <span class="metric-label">Selected:</span>
        <span class="metric-value">{{ selected?.name }} - {{ selected?.value | number:'1.0-0' }} million</span>
      </div>
    </div>
  </div>
</div>
