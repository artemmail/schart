


  <div class="container">

    <mat-card>
      <mat-card-header>
        <mat-card-title>
           "Фрактальный Бар-о-метръ" Николая Старченко
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>

        
    <app-market-selector
      [(ngModel)]="selectedMarket"
      (selectionChange)="onMarketChange($event)"
    >
    </app-market-selector>
  
    <button mat-raised-button color="primary" (click)="exportToExcel()">
      Экспорт в Excel
    </button>



      <br>  
    <table mat-table [dataSource]="data" class=" custom-table">
      <!-- Наименование Column -->
      <ng-container matColumnDef="tickerName">
        <th mat-header-cell *matHeaderCellDef>Наименование</th>
        <td mat-cell *matCellDef="let element">   
                 
          <a
          [routerLink]="['/FootPrint']"
          [queryParams]="{
            ticker: element.ticker,
            period: 5,
            rperiod: 'day'
          }"
        >
          {{ element.tickerName.substring(0, 25) }}
        </a>
        </td>
      </ng-container>
  
      <!-- Цена Column -->
      <ng-container matColumnDef="opn">
        <th mat-header-cell *matHeaderCellDef>Цена</th>
        <td mat-cell *matCellDef="let element">{{ element.opn }}</td>
      </ng-container>
  
      <!-- Краткосрочно Column -->
      <ng-container matColumnDef="rec1">
        <th mat-header-cell *matHeaderCellDef>Краткосрочно(часы)</th>
        <td mat-cell *matCellDef="let element">
          <app-arrow-display [value]="element.rec1"></app-arrow-display>
        </td>
      </ng-container>
  
      <!-- Среднесрочно Column -->
      <ng-container matColumnDef="rec2">
        <th mat-header-cell *matHeaderCellDef>Среднесрочно(дневки)</th>
        <td mat-cell *matCellDef="let element">
          <app-arrow-display [value]="element.rec2"></app-arrow-display>
        </td>
      </ng-container>
  
      <!-- Дальнесрочно Column -->
      <ng-container matColumnDef="rec3">
        <th mat-header-cell *matHeaderCellDef>Дальнесрочно(недельки)</th>
        <td mat-cell *matCellDef="let element">
          <app-arrow-display [value]="element.rec3"></app-arrow-display>
        </td>
      </ng-container>
  
      <!-- Поиск новостей Column -->
      <ng-container matColumnDef="news">
        <th mat-header-cell *matHeaderCellDef>Поиск новостей</th>
        <td mat-cell *matCellDef="let element"> <a   target="_blank" href="https://www.google.ru/search?q={{element.tickerName}}&newwindow=1&tbm=nws">{{element.tickerName}}</a> </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
   <br>
 

</mat-card-content>
</mat-card>

  </div>
  